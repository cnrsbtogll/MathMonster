{% extends "base.html" %}

{% block content %}
<h1 style="font-size: 1.8em; margin: 15px 0;">ğŸ§® MATEMATÄ°K CANAVARI ğŸ§®</h1>

<p style="font-size: 1.1em; margin: 15px 0;">
    ğŸŒŸ Merhaba kÃ¼Ã§Ã¼k matematik yÄ±ldÄ±zÄ±! ğŸŒŸ
</p>

<div style="margin: 20px 0;">
    <p style="font-size: 1.1em; margin-bottom: 15px;">ğŸš€ HazÄ±r mÄ±sÄ±n?</p>
    
    {% if error_message %}
    <div class="message error" style="margin: 15px 0;">
        {{ error_message }}
    </div>
    {% endif %}
    
    <form action="{{ url_for('oyun_basla') }}" method="POST" id="oyun-form">
        <div style="margin: 15px 0;">
            <input type="text" 
                   name="player_name" 
                   id="player-name"
                   class="answer-input" 
                   placeholder="AdÄ±nÄ± yaz (zorunlu)" 
                   maxlength="20"
                   style="width: 100%; max-width: 250px;"
                   required>
        </div>
        <button type="submit" class="btn btn-success">
            ğŸ® OYUNU BAÅLAT! ğŸ®
        </button>
    </form>
</div>

<div class="rules" style="margin: 20px 0;">
    <h3 style="text-align: center; margin-bottom: 15px; font-size: 1.1em;">ğŸ“ KURALLAR:</h3>
    <ul style="font-size: 0.9em;">
        <li>âœ… Her doÄŸru cevap = 1 puan</li>
        <li>ğŸ“ˆ Her doÄŸru cevapla sorular zorlaÅŸÄ±r</li>
        <li>âŒ YanlÄ±ÅŸ cevap = Oyun biter</li>
        <li>ğŸ¯ Hedefin en yÃ¼ksek skoru yapmak!</li>
    </ul>
</div>

<script>
document.getElementById('oyun-form').addEventListener('submit', function(e) {
    const playerName = document.getElementById('player-name').value.trim();
    if (!playerName) {
        e.preventDefault();
        alert('LÃ¼tfen adÄ±nÄ±zÄ± girin!');
        document.getElementById('player-name').focus();
    }
});
</script>

{% if top_scores %}
<div class="rules" style="margin: 20px 0;">
    <h3 style="text-align: center; margin-bottom: 15px; font-size: 1.1em;">ğŸ† EN Ä°YÄ° SKORLAR</h3>
    <ul style="list-style: none; padding: 0;">
        {% for score in top_scores %}
        <li style="display: flex; justify-content: space-between; margin: 8px 0; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 8px; font-size: 0.9em;">
            <span>{{ loop.index }}. {{ score.player_name }}</span>
            <span>{{ score.final_score }} puan</span>
        </li>
        {% endfor %}
    </ul>
    <div style="text-align: center; margin-top: 15px;">
        <a href="{{ url_for('istatistikler') }}" class="btn" style="font-size: 0.8em; padding: 8px 16px;">
            ğŸ“Š TÃ¼m Ä°statistikler
        </a>
    </div>
</div>
{% endif %}

<div style="margin-top: 30px; font-size: 0.9em; opacity: 0.8;">
    ğŸŒˆ EÄŸlenceli matematik macerasÄ± seni bekliyor! ğŸŒˆ
</div>
{% endblock %}